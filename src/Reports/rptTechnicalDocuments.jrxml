<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rptTechnicalDocuments" pageWidth="612" pageHeight="936" columnWidth="572" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.126972201352368"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="144"/>
	<subDataset name="dataset1"/>
	<parameter name="client_id" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="client_name" class="java.lang.String" isForPrompting="false"/>
	<parameter name="project" class="java.lang.String" isForPrompting="false"/>
	<parameter name="description" class="java.lang.String" isForPrompting="false"/>
	<parameter name="request_no" class="java.lang.String"/>
	<parameter name="company" class="java.lang.String" isForPrompting="false"/>
	<parameter name="SUBREPORT_DIR" class="java.io.InputStream" isForPrompting="false">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="listRequestfortheReleased" class="java.util.ArrayList"/>
	<parameter name="remarks" class="java.lang.String" isForPrompting="false"/>
	<parameter name="request_date" class="java.util.Date" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="house_model" class="java.lang.String" isForPrompting="false"/>
	<parameter name="listPurposeofDocs" class="java.util.ArrayList"/>
	<parameter name="prepared_by" class="java.lang.String" isForPrompting="false"/>
	<parameter name="SUBREPORT_DocsPurpose" class="java.io.InputStream" isForPrompting="false"/>
	<queryString>
		<![CDATA[SELECT e.company_name,
a.entity_id as entity_id, get_client_name(a.entity_id) as entity_name,
get_project_name(a.projcode) as proj_name, get_merge_unit_desc_v3(a.entity_id, a.projcode, a.pbl_id, a.seq_no) as unit_desc,
a.request_no as req_no, a.request_date as request_date, f.model_desc as model_desc, a.remarks as remarks,
coalesce(get_loan_availed(a.entity_id, a.pbl_id, a.seq_no, a.projcode) -
(select coalesce(sum(amount), 0.00) from rf_client_ledger where entity_id = a.entity_id and pbl_id = a.pbl_id and proj_id = a.projcode
and seq_no = a.seq_no and status_id = 'A' and part_id in ('002')), 0.00) as balance,
coalesce(c.amount, 0.00) as transfer_cost, now(), a.received_by as received_by, a.relation_to_principal as relation, get_employee_name(a.released_by) as released_by,a.release_date,get_employee_name(a.add_by) as prepared_by, a.requested_by
from rf_buyer_docs_hd a
left join rf_sold_unit b on b.entity_id = a.entity_id and b.projcode = a.projcode and b.pbl_id = a.pbl_id and b.seq_no = a.seq_no
LEFT JOIN rf_payments c on c.entity_id = a.entity_id and c.proj_id = a.projcode and c.pbl_id = a.pbl_id and c.seq_no = a.seq_no and c.pay_part_id = '182' and c.status_id = 'A'
LEFT JOIN mf_product_model f on b.model_id = f.model_id and coalesce(b.proj_server, '') = coalesce(f.proj_server, '') and coalesce(b.server_id, '') = coalesce(f.server_id,'')
LEFT JOIN mf_project d on d.proj_id = a.projcode
LEFT JOIN mf_company e on e.co_id = d.co_id
where a.request_no = $P{request_no};]]>
	</queryString>
	<field name="company_name" class="java.lang.String"/>
	<field name="entity_id" class="java.lang.String"/>
	<field name="entity_name" class="java.lang.String"/>
	<field name="proj_name" class="java.lang.String"/>
	<field name="unit_desc" class="java.lang.String"/>
	<field name="req_no" class="java.lang.String"/>
	<field name="request_date" class="java.sql.Timestamp"/>
	<field name="model_desc" class="java.lang.String"/>
	<field name="remarks" class="java.lang.String"/>
	<field name="balance" class="java.math.BigDecimal"/>
	<field name="transfer_cost" class="java.math.BigDecimal"/>
	<field name="now" class="java.sql.Timestamp"/>
	<field name="received_by" class="java.lang.String"/>
	<field name="relation" class="java.lang.String"/>
	<field name="released_by" class="java.lang.String"/>
	<field name="release_date" class="java.sql.Timestamp"/>
	<field name="prepared_by" class="java.lang.String"/>
	<field name="requested_by" class="java.lang.String"/>
	<group name="grpRequestforReleased">
		<groupHeader>
			<band height="63" splitType="Stretch">
				<staticText>
					<reportElement x="269" y="0" width="100" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Remarks]]></text>
				</staticText>
				<staticText>
					<reportElement x="12" y="0" width="188" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Request for the Release]]></text>
				</staticText>
				<subreport>
					<reportElement x="13" y="26" width="244" height="26"/>
					<subreportParameter name="SUBREPORT_DIR">
						<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
					</subreportParameter>
					<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource(
    $P{listRequestfortheReleased}
)]]></dataSourceExpression>
					<subreportExpression class="java.io.InputStream"><![CDATA[$P{SUBREPORT_DIR}]]></subreportExpression>
				</subreport>
				<textField isStretchWithOverflow="true">
					<reportElement x="269" y="26" width="278" height="26"/>
					<textElement>
						<font fontName="Tahoma" isBold="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{remarks}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="grpDocsPurpose">
		<groupHeader>
			<band height="119" splitType="Stretch">
				<subreport>
					<reportElement x="23" y="32" width="244" height="22"/>
					<subreportParameter name="request_no">
						<subreportParameterExpression><![CDATA[$P{request_no}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="SUBREPORT_DocsPurpose">
						<subreportParameterExpression><![CDATA[$P{SUBREPORT_DocsPurpose}]]></subreportParameterExpression>
					</subreportParameter>
					<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource(
    $P{listPurposeofDocs}
)]]></dataSourceExpression>
					<subreportExpression class="java.io.InputStream"><![CDATA[$P{SUBREPORT_DocsPurpose}]]></subreportExpression>
				</subreport>
				<staticText>
					<reportElement x="23" y="9" width="282" height="19"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma" isBold="false"/>
					</textElement>
					<text><![CDATA[The copy/copies of this/these document/s are for my:]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="Float" x="25" y="66" width="68" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma" isBold="false"/>
					</textElement>
					<text><![CDATA[Requested by: ]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="Float" x="25" y="86" width="68" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma" isBold="false"/>
					</textElement>
					<text><![CDATA[Signature]]></text>
				</staticText>
				<line>
					<reportElement positionType="Float" mode="Transparent" x="101" y="102" width="155" height="1"/>
				</line>
				<rectangle>
					<reportElement stretchType="RelativeToTallestObject" mode="Transparent" x="13" y="9" width="547" height="97"/>
				</rectangle>
				<staticText>
					<reportElement x="324" y="66" width="79" height="20"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma"/>
					</textElement>
					<text><![CDATA[Telephone No.]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="410" y="66" width="140" height="20"/>
					<box>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="99" y="66" width="158" height="20"/>
					<box>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{requested_by}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="80" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="37" width="572" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[Request for Technical Documents]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="12" width="572" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="20" isBold="true" isStrikeThrough="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{company_name}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="88" splitType="Stretch">
			<staticText>
				<reportElement x="13" y="0" width="86" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Client Code]]></text>
			</staticText>
			<staticText>
				<reportElement x="13" y="20" width="86" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Client Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="13" y="41" width="86" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Project]]></text>
			</staticText>
			<staticText>
				<reportElement x="13" y="62" width="100" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Phase-Block-Lot]]></text>
			</staticText>
			<staticText>
				<reportElement x="348" y="1" width="78" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Request No]]></text>
			</staticText>
			<staticText>
				<reportElement x="348" y="20" width="78" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Request Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="348" y="41" width="78" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[House Model]]></text>
			</staticText>
			<textField>
				<reportElement x="113" y="1" width="220" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{entity_id}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="113" y="22" width="220" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{entity_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="113" y="43" width="217" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{proj_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="113" y="62" width="220" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{unit_desc}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="426" y="1" width="146" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{req_no}]]></textFieldExpression>
			</textField>
			<textField pattern="MMMMM dd, yyyy">
				<reportElement x="426" y="21" width="146" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{request_date}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="426" y="42" width="146" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{model_desc}]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="351" splitType="Stretch">
			<staticText>
				<reportElement x="27" y="16" width="137" height="20"/>
				<textElement>
					<font fontName="Tahoma" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Status of Payments]]></text>
			</staticText>
			<staticText>
				<reportElement x="39" y="35" width="125" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="false"/>
				</textElement>
				<text><![CDATA[Outstanding Balance]]></text>
			</staticText>
			<staticText>
				<reportElement x="39" y="54" width="100" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="false"/>
				</textElement>
				<text><![CDATA[Transfer Cost Paid]]></text>
			</staticText>
			<staticText>
				<reportElement x="366" y="34" width="105" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="false"/>
				</textElement>
				<text><![CDATA[Due on Transfer Cost]]></text>
			</staticText>
			<staticText>
				<reportElement x="366" y="54" width="120" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="false"/>
				</textElement>
				<text><![CDATA[Due on Real Property Tax]]></text>
			</staticText>
			<rectangle>
				<reportElement mode="Transparent" x="13" y="5" width="547" height="80"/>
			</rectangle>
			<textField pattern="#,##0.00">
				<reportElement x="164" y="35" width="160" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{balance}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="164" y="54" width="160" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{transfer_cost}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement x="14" y="220" width="547" height="123"/>
			</rectangle>
			<staticText>
				<reportElement x="27" y="97" width="100" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" isBold="true"/>
				</textElement>
				<text><![CDATA[Recommendation]]></text>
			</staticText>
			<staticText>
				<reportElement x="298" y="257" width="59" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<text><![CDATA[Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="297" y="232" width="60" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<text><![CDATA[Received by]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="94" y="232" width="188" height="20"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{released_by}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement mode="Transparent" x="13" y="97" width="547" height="108"/>
			</rectangle>
			<staticText>
				<reportElement x="23" y="135" width="160" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Prepared by:]]></text>
			</staticText>
			<textField>
				<reportElement x="22" y="175" width="160" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{prepared_by}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="207" y="135" width="160" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Checked by]]></text>
			</staticText>
			<staticText>
				<reportElement x="387" y="135" width="160" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Approved by:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="208" y="175" width="160" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="388" y="175" width="160" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="27" y="232" width="60" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<text><![CDATA[Released by]]></text>
			</staticText>
			<staticText>
				<reportElement x="27" y="257" width="59" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<text><![CDATA[Date]]></text>
			</staticText>
			<textField pattern="MMMMM dd, yyyy" isBlankWhenNull="true">
				<reportElement x="94" y="257" width="188" height="20"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{release_date}]]></textFieldExpression>
			</textField>
			<textField pattern="MMMMM dd, yyyy" isBlankWhenNull="true">
				<reportElement x="363" y="257" width="188" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{release_date}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="363" y="232" width="188" height="20"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{received_by}]]></textFieldExpression>
			</textField>
			<textField pattern="MMMMM dd, yyyy" isBlankWhenNull="true">
				<reportElement x="363" y="298" width="188" height="20"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{release_date}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="233" y="298" width="124" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma"/>
				</textElement>
				<text><![CDATA[Relationship with the client]]></text>
			</staticText>
		</band>
	</detail>
</jasperReport>
