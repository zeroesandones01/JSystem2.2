<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rptDepositSummaryReport_2_sub1" pageWidth="612" pageHeight="792" columnWidth="566" leftMargin="36" rightMargin="10" topMargin="20" bottomMargin="20" uuid="03986757-377c-4b59-b630-6e17b8e06d30">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="trans_no" class="java.lang.Integer"/>
	<parameter name="date_used" class="java.lang.String"/>
	<parameter name="date_from" class="java.util.Date"/>
	<parameter name="date_to" class="java.util.Date"/>
	<parameter name="proj_name" class="java.lang.String"/>
	<parameter name="branch_name" class="java.lang.String"/>
	<parameter name="status_name" class="java.lang.String"/>
	<parameter name="proj_id" class="java.lang.String"/>
	<parameter name="branch_id" class="java.lang.String"/>
	<parameter name="status_id" class="java.lang.String"/>
	<queryString>
		<![CDATA[select
a.dep_no,
to_char(b.dep_date,'MM-dd-yyyy') as dep_date,
c.bank_acct_no, 'CASH' as type,
coalesce(a.cash_amount,0) as TV_cash,
coalesce(chk_amount,0) as TV_check,
(coalesce(a.cash_amount,0) + coalesce(chk_amount,0)) as tot_amt

from (select distinct on (dep_no) dep_no, sum(value_id*dep_qty) as cash_amount from cs_dp_csh_detail where status_id = 'A' group by dep_no) a
left join (select distinct on (dep_no) dep_no, sum(tran_amt) as chk_amount from cs_dp_chk_detail where status_id = 'A' group by dep_no) aa on a.dep_no = aa.dep_no
left join cs_dp_header b on a.dep_no = b.dep_no
left join mf_bank_account c on b.bank_acct_id = c.bank_acct_id
left join mf_record_status d on b.status_id = d.status_id
left join mf_bank_branch e on c.bank_branch_id = e.bank_branch_id
left join mf_bank f on e.bank_id = f.bank_id

where (case when $P{date_used} = 'Collection Date :' then b.cash_date::date >= $P{date_from}::date and  b.cash_date::date <= $P{date_to}::date
else b.dep_date::date >= $P{date_from}::date and  b.dep_date::date <= $P{date_to}::date end)
and (case when $P{branch_name} = 'All' then b.dep_no is not null else b.branch_id = $P{branch_id} end)
and (case when $P{status_name} = 'All' then b.dep_no is not null else b.status_id = $P{status_id} end)]]>
	</queryString>
	<field name="dep_no" class="java.lang.String"/>
	<field name="dep_date" class="java.lang.String"/>
	<field name="bank_acct_no" class="java.lang.String"/>
	<field name="type" class="java.lang.String"/>
	<field name="tv_cash" class="java.math.BigDecimal"/>
	<field name="tv_check" class="java.math.BigDecimal"/>
	<field name="tot_amt" class="java.math.BigDecimal"/>
	<variable name="CURRENT_PAGE_NUMBER" class="java.lang.Integer" resetType="Page">
		<variableExpression><![CDATA[$V{PAGE_NUMBER}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="tv_cash_tot" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{tv_cash}]]></variableExpression>
	</variable>
	<variable name="tc_check_tot" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{tv_check}]]></variableExpression>
	</variable>
	<variable name="cash_total" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{tv_cash}]]></variableExpression>
	</variable>
	<variable name="check_total" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{tv_check}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="52" splitType="Stretch">
			<staticText>
				<reportElement x="144" y="6" width="100" height="23" uuid="c100eb0e-e96b-4006-bea2-1ad7fcc6a72f"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[TV1]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="6" width="144" height="46" uuid="53c0eb38-5045-45bd-ae36-8f07bee02ec0"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Deposit Summary Report]]></text>
			</staticText>
			<staticText>
				<reportElement x="144" y="29" width="50" height="23" uuid="5f8bd9dd-3629-4c95-85e5-2e1e13c26e06"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CASH]]></text>
			</staticText>
			<staticText>
				<reportElement x="194" y="29" width="50" height="23" uuid="542a45fb-7405-46b5-807a-d7034a9fb903"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CHECK]]></text>
			</staticText>
			<staticText>
				<reportElement x="244" y="29" width="50" height="23" uuid="ef57b9d9-76bc-4ab8-a94a-1f821ac69e25"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CASH]]></text>
			</staticText>
			<staticText>
				<reportElement x="244" y="6" width="100" height="23" uuid="abbb1cfd-b664-45db-8ea2-74fa789968fc"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[--]]></text>
			</staticText>
			<staticText>
				<reportElement x="294" y="29" width="50" height="23" uuid="095976f7-597a-44d1-8d54-737cf8a6bd84"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CHECK]]></text>
			</staticText>
			<staticText>
				<reportElement x="394" y="29" width="50" height="23" uuid="caefea89-4274-47d4-906e-43656e9705fb"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CHECK]]></text>
			</staticText>
			<staticText>
				<reportElement x="344" y="29" width="50" height="23" uuid="14e32f13-fe08-42c3-a712-55653d29c76a"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CASH]]></text>
			</staticText>
			<staticText>
				<reportElement x="344" y="6" width="100" height="23" uuid="c3e7e9af-861b-4d5e-86a3-43bb4562cb58"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[TOTAL]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="17" splitType="Stretch">
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="144" height="17" uuid="3b52e9e6-1252-4ab2-b30c-ddfd7e39282c"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bank_acct_no}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="394" y="0" width="50" height="17" uuid="91450ff4-351a-4b03-bd7d-06ed9099fd99"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tv_check}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="344" y="0" width="50" height="17" uuid="a038a639-3fd6-4c69-b5b5-577cd476f6fb"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tv_cash}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="244" y="0" width="50" height="17" uuid="adec95ef-15d3-4f4f-87b3-5907ac40ef10"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="294" y="0" width="50" height="17" uuid="a23dfed3-c2e7-4d42-af46-4fdbd8daa611"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="194" y="0" width="50" height="17" uuid="1409a0f7-2694-4df3-a3d2-ff3fb62cf167"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tv_check}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="144" y="0" width="50" height="17" uuid="b22d8df1-83ff-43d1-8f69-a571862d5902"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tv_cash}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="17">
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="144" y="0" width="50" height="17" uuid="c9a36a2b-0d91-4ffb-b876-1ca3307d596b"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{tv_cash_tot}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="394" y="0" width="50" height="17" uuid="77992c5a-1c14-4134-b7ec-d6d14640076e"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{check_total}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="344" y="0" width="50" height="17" uuid="a788da12-d5ca-477c-acda-503a91776a69"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{cash_total}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="294" y="0" width="50" height="17" uuid="caaca9bc-b6a0-4c3d-b0f3-a57eab46e115"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="194" y="0" width="50" height="17" uuid="f4f44146-bc2a-4942-83a2-023318858144"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{tc_check_tot}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="244" y="0" width="50" height="17" uuid="f1c80d88-a2ee-45ea-97e5-6c1d89eebb54"/>
				<box rightPadding="2">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="144" height="17" uuid="db566797-8ae7-4d1a-bce9-626e8d0cb057"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Total"]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
	<summary>
		<band/>
	</summary>
</jasperReport>
