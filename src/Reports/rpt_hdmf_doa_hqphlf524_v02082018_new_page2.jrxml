<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="612" pageHeight="936" columnWidth="612" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="1.2100000000000006"/>
	<property name="ireport.x" value="22"/>
	<property name="ireport.y" value="96"/>
	<property name="ireport.background.image.properties" value="true,true,0.25,-8,-8,0,0,2566,4216"/>
	<style name="style1"/>
	<parameter name="01_clientID" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="02_projID" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="03_pblID" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="04_seqno" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="05_DocNo" class="java.lang.String"/>
	<parameter name="06_PageNo" class="java.lang.String"/>
	<parameter name="07_BookNo" class="java.lang.String"/>
	<parameter name="08_SeriesNo" class="java.lang.String"/>
	<parameter name="09_Atty" class="java.lang.String"/>
	<parameter name="10_Date" class="java.lang.String"/>
	<queryString>
		<![CDATA[select a.*, (case when coalesce(a.technical_desc, '') = '' then '' else left(b.technical_desc, position('Notes:' IN b.technical_desc)-1) end) as tech_desc,

(case when loanable_amount::numeric(19, 2) <= 750000::numeric(19, 2) then '' when loanable_amount::numeric(19, 2) >= 751000::numeric(19, 2) and loanable_amount::numeric(19, 2) <= 1700000::numeric(19, 2)
then 'PRISCILA A. VALENZUELA' when loanable_amount::numeric(19, 2) >= 1701000::numeric(19, 2) and loanable_amount::numeric(19, 2) <= 3000000::numeric(19, 2) then 'PRISCILA A. VALENZUELA' end) as signatory,

(case when loanable_amount::numeric(19, 2) <= 750000::numeric(19, 2) then 'LOANS EVALUATION II - CHIEF OF DIVISION' when loanable_amount::numeric(19, 2) >= 751000::numeric(19, 2) and loanable_amount::numeric(19, 2) <= 1700000::numeric(19, 2)
then 'ASSISTANT MANAGER - LOANS EVALUATION DEPT. II' when loanable_amount::numeric(19, 2) >= 1701000::numeric(19, 2) and loanable_amount::numeric(19, 2) <= 3000000::numeric(19, 2) then 'OIC DEPT. MANAGER - LOANS EVALUATION DEPT II' end) as position,

(select x.phase from mf_unit_info x where x.proj_id = a.proj_id and x.pbl_id = a.pbl_id) as phase,


(case when coalesce(a.oth_technical_description, '') = '' then a.technical_desc else '' end) alpha,
(case when coalesce(a.oth_technical_description, '') != '' then a.technical_desc else '' end) bravo,a.oth_technical_description as charlie

from view_hdmf_doa_flh2502a_new($P{01_clientID}, $P{02_projID}, $P{03_pblID}, $P{04_seqno}) a
left join mf_unit_info b on a.proj_id = b.proj_id and a.pbl_id = b.pbl_id]]>
	</queryString>
	<field name="developer" class="java.lang.String"/>
	<field name="developer_address_1" class="java.lang.String"/>
	<field name="developer_address_2" class="java.lang.String"/>
	<field name="vp_tin" class="java.lang.String"/>
	<field name="client_name" class="java.lang.String"/>
	<field name="spouse_name" class="java.lang.String"/>
	<field name="co_borrower_name" class="java.lang.String"/>
	<field name="client_address_1" class="java.lang.String"/>
	<field name="client_address_2" class="java.lang.String"/>
	<field name="memo_agreement_date" class="java.sql.Date"/>
	<field name="memo_agreement_doc_no" class="java.lang.String"/>
	<field name="memo_agreement_page_no" class="java.lang.String"/>
	<field name="memo_agreement_book_no" class="java.lang.String"/>
	<field name="memo_agreement_series_no" class="java.lang.String"/>
	<field name="memo_agreement_atty" class="java.lang.String"/>
	<field name="project_name" class="java.lang.String"/>
	<field name="loanable_amount" class="java.math.BigDecimal"/>
	<field name="loanable_words" class="java.lang.String"/>
	<field name="cts_agreement_date" class="java.sql.Date"/>
	<field name="cts_agreement_doc_no" class="java.lang.String"/>
	<field name="cts_agreement_page_no" class="java.lang.String"/>
	<field name="cts_agreement_book_no" class="java.lang.String"/>
	<field name="cts_agreement_series_no" class="java.lang.String"/>
	<field name="cts_agreement_atty" class="java.lang.String"/>
	<field name="technical_description" class="java.lang.String"/>
	<field name="client_tin" class="java.lang.String"/>
	<field name="spouse_tin" class="java.lang.String"/>
	<field name="co_borrower_tin" class="java.lang.String"/>
	<field name="tct_no" class="java.lang.String"/>
	<field name="proj_id" class="java.lang.String"/>
	<field name="pbl_id" class="java.lang.String"/>
	<field name="client_full_name" class="java.lang.String"/>
	<field name="client_spouse_full_name" class="java.lang.String"/>
	<field name="coborrower_full_name" class="java.lang.String"/>
	<field name="coborrower_spouse_full_name" class="java.lang.String"/>
	<field name="other_lot" class="java.lang.String"/>
	<field name="other_tct_no" class="java.lang.String"/>
	<field name="technical_desc" class="java.lang.String"/>
	<field name="with_the_conformity_of" class="java.lang.String"/>
	<field name="principal_spouse_co_spouse" class="java.lang.String"/>
	<field name="oth_technical_description" class="java.lang.String"/>
	<field name="tech_desc" class="java.lang.String"/>
	<field name="signatory" class="java.lang.String"/>
	<field name="position" class="java.lang.String"/>
	<field name="phase" class="java.lang.String"/>
	<field name="alpha" class="java.lang.String"/>
	<field name="bravo" class="java.lang.String"/>
	<field name="charlie" class="java.lang.String"/>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="339" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="228" y="152" width="52" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{cts_agreement_doc_no}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="342" y="152" width="43" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{cts_agreement_page_no}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="440" y="151" width="57" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{cts_agreement_book_no}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="66" y="165" width="46" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{cts_agreement_series_no}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="316" y="166" width="112" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{cts_agreement_atty}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="43" y="243" width="490" height="58"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Top">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{alpha}]]></textFieldExpression>
			</textField>
			<textField pattern="MMMMM dd, yyyy" isBlankWhenNull="true">
				<reportElement x="139" y="76" width="462" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{loanable_words}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="26" y="243" width="254" height="58"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Top">
					<font fontName="SansSerif" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{bravo}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="285" y="243" width="262" height="58"/>
				<box leftPadding="0"/>
				<textElement verticalAlignment="Top">
					<font fontName="SansSerif" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{charlie}]]></textFieldExpression>
			</textField>
			<textField pattern="MMMMM dd, yyyy" isBlankWhenNull="true">
				<reportElement x="100" y="137" width="92" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{cts_agreement_date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="42" y="204" width="151" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{project_name}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="85" y="90" width="125" height="14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{loanable_amount}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
