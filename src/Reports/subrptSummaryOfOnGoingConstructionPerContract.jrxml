<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="subrptSummaryOfOnGoingConstructionPerContract" pageWidth="64800" pageHeight="62064" orientation="Landscape" columnWidth="64800" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="proj_id" class="java.lang.String"/>
	<parameter name="date_from" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="date_to" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="phase" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select (((c_awarded_num)/total_awarded)* 100)/100::numeric(19,2) as pctg,
(((total_awarded)/allunits)* 100)::numeric(19, 2) as pctg_allunits,
(((total_awarded)/allntc)* 100)::numeric(19, 2) as pctg_allntc,
round(SUM((((c_awarded_num)/total_awarded)* 100)) OVER()::numeric(19,2),2) as total_pctg,
round((((SUM(c_completed) OVER())/allunits)* 100)::numeric(19, 2),2) as pctg_completed,
round((((SUM(c_completed) OVER())/allntc)* 100)::numeric(19, 2),2) as pctg_completed_ntc,*
from
(select SUM(c_awarded) OVER()::numeric(19,2) as total_awarded,
c_awarded::numeric(19,2) as c_awarded_num,
c_total_units::numeric (19, 2) as allunits,
c_total_units_w_ntc::numeric (19, 2) as allntc, *
from view_ntp_summary_of_const_status_per_contract(
$P{proj_id},$P{date_from},$P{date_to},$P{phase})
) a]]>
	</queryString>
	<field name="pctg" class="java.math.BigDecimal"/>
	<field name="pctg_allunits" class="java.math.BigDecimal"/>
	<field name="pctg_allntc" class="java.math.BigDecimal"/>
	<field name="total_pctg" class="java.math.BigDecimal"/>
	<field name="pctg_completed" class="java.math.BigDecimal"/>
	<field name="pctg_completed_ntc" class="java.math.BigDecimal"/>
	<field name="total_awarded" class="java.math.BigDecimal"/>
	<field name="c_awarded_num" class="java.math.BigDecimal"/>
	<field name="allunits" class="java.math.BigDecimal"/>
	<field name="allntc" class="java.math.BigDecimal"/>
	<field name="c_contractor" class="java.lang.String"/>
	<field name="c_awarded" class="java.lang.Integer"/>
	<field name="c_percentage" class="java.lang.Double"/>
	<field name="c_completed" class="java.lang.Integer"/>
	<field name="c_ongoing" class="java.lang.Integer"/>
	<field name="c_ontime" class="java.lang.Integer"/>
	<field name="c_delayed" class="java.lang.Integer"/>
	<field name="c_busted" class="java.lang.Integer"/>
	<field name="c_total_units" class="java.lang.Integer"/>
	<field name="c_total_units_w_ntc" class="java.lang.Integer"/>
	<field name="c_total_awarded" class="java.lang.Integer"/>
	<variable name="totalOngoing" class="java.lang.Integer" resetType="Column" calculation="Sum">
		<variableExpression><![CDATA[$F{c_ongoing}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="totalDelayed" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[$F{c_delayed}]]></variableExpression>
	</variable>
	<variable name="totalBusted" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[$F{c_busted}]]></variableExpression>
	</variable>
	<variable name="totalAwarded" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[$F{c_awarded}]]></variableExpression>
	</variable>
	<variable name="totalCompleted" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[$F{c_completed}]]></variableExpression>
	</variable>
	<variable name="totalOntime" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[$F{c_ontime}]]></variableExpression>
	</variable>
	<columnHeader>
		<band height="28" splitType="Prevent">
			<staticText>
				<reportElement mode="Opaque" x="0" y="14" width="121" height="14" backcolor="#BEE9D6"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[Contractor]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="431" y="14" width="80" height="14" backcolor="#F5C2C2"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[On-time]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="511" y="14" width="80" height="14" backcolor="#F5C2C2"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Delayed Units]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="591" y="14" width="80" height="14" backcolor="#F5C2C2"/>
				<box>
					<topPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Busted Units]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="121" y="14" width="80" height="14" backcolor="#BEE9D6"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Awarded Units]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="251" y="14" width="80" height="14" backcolor="#BEE9D6"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Completed]]></text>
			</staticText>
			<staticText>
				<reportElement x="431" y="0" width="240" height="14"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Ongoing Construction]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="331" y="14" width="80" height="14" backcolor="#BEE9D6"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Ongoing]]></text>
			</staticText>
			<staticText>
				<reportElement x="34" y="-3" width="361" height="16"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[SUMMARY OF ON-GOING CONSTRUCTION PER CONTRACTOR]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="201" y="14" width="50" height="14" backcolor="#BEE9D6"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[%]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="11" splitType="Prevent">
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="121" height="11"/>
				<box leftPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{c_contractor}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="591" y="0" width="80" height="11"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_busted}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="511" y="0" width="80" height="11"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_delayed}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="121" y="0" width="80" height="11"/>
				<box rightPadding="5">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_awarded}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="251" y="0" width="80" height="11"/>
				<box rightPadding="5">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_completed}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="431" y="0" width="80" height="11"/>
				<box rightPadding="5">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_ontime}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="331" y="0" width="80" height="11"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_ongoing}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00%" isBlankWhenNull="false">
				<reportElement x="201" y="0" width="50" height="11"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{pctg}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="41" splitType="Prevent">
			<staticText>
				<reportElement x="0" y="0" width="121" height="13"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom" markup="none">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="511" y="0" width="80" height="13"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{totalDelayed}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="591" y="0" width="80" height="13"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{totalBusted}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="121" y="0" width="80" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{totalAwarded}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="251" y="0" width="80" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{totalCompleted}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="331" y="0" width="80" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{totalOngoing}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="431" y="0" width="80" height="13"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{totalOntime}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="0" y="14" width="67" height="13" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[All Units >>]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="0" y="27" width="67" height="12" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[With NTC >>]]></text>
			</staticText>
			<textField>
				<reportElement mode="Opaque" x="67" y="14" width="54" height="13" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_total_units}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Opaque" x="67" y="27" width="54" height="12" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{c_total_units_w_ntc}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="201" y="0" width="50" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{total_pctg}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Opaque" x="121" y="14" width="80" height="13" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{pctg_allunits}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Opaque" x="121" y="27" width="80" height="12" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{pctg_allntc}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="201" y="14" width="50" height="13" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="201" y="27" width="50" height="12" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement mode="Opaque" x="251" y="14" width="80" height="13" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{pctg_completed}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Opaque" x="251" y="27" width="80" height="12" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{pctg_completed_ntc}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="331" y="14" width="80" height="13" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="331" y="27" width="80" height="12" backcolor="#BFBABA"/>
				<box rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
