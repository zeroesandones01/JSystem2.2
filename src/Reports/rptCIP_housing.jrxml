<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rptCIP_housing" pageWidth="936" pageHeight="612" orientation="Landscape" columnWidth="901" leftMargin="25" rightMargin="10" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="48"/>
	<parameter name="company" class="java.lang.String" isForPrompting="false"/>
	<parameter name="proj_id" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["008"]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.io.InputStream" isForPrompting="false">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="prepared_by" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["AAGONZALES"]]></defaultValueExpression>
	</parameter>
	<parameter name="date_to" class="java.util.Date"/>
	<parameter name="co_id" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="project" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="contractor" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="phase" class="java.lang.String"/>
	<queryString>
		<![CDATA[select
trim(a.contract_no) as contract_no,
(trim(b.entity_name)||
	(case when p.entity_name is null then '' else '-' end)||
	coalesce(p.entity_name,'')) as name,
trim(d.description) as desc,
trim(d.phase) as phase,
trim(d.block) as block,
trim(d.lot) as lot,
trim(e.model_desc) as model,
1 as qty,
c.other_cost,
c.other_cost,
(case when a.vat_rate > 0 then 'VAT' else 'Non-VAT' end) as vatable,
(case when a.contract_price is null then a.orig_contract_price else a.contract_price end ) as contract_price,
g.gr_amt,
(g.gr_amt-h.vt_amt) as nt_amt,
(c.other_cost/i.total_cost) * g.gr_amt as gross_of_vat,
(c.other_cost/i.total_cost) *(g.gr_amt-h.vt_amt) as net_of_vat,
j.accomp_perc,
k.proj_alias,
( select count(a.ntp_no) as item_count from (select distinct on (ntp_no) ntp_no from co_ntp_header
 where ntp_type_id = '02'
 and ( case when $P{proj_id} = '' or $P{proj_id} is null then proj_id is not null else proj_id = $P{proj_id}  end )
 and ntp_no in ( select ntp_no from co_billing_detail where billing_date <= $P{date_to}  and billing_type ='02' and gross_amt > 0 )
) a ) as item_count,
( case when e.model_id = '009' then 'Non-BOI' else
	( case when l.sellingprice <=450000 or l.sellingprice >3000000 then 'Non-BOI' else
		( case when l.sellingprice >450000 or l.sellingprice <3000000 then 'BOI' else '' end ) end ) end ) as type,
l.sellingprice


from ( select * from co_ntp_header where ntp_no in ( select ntp_no from co_billing_detail where billing_date <= $P{date_to} and billing_type ='02' and gross_amt > 0 )  and ntp_type_id = '02'  ) a

left join rf_entity b on a.entity_id = b.entity_id

left join co_ntp_detail c on a.ntp_no = c.ntp_no

left join mf_unit_info d on c.pbl_id = d.pbl_id

left join mf_product_model e on d.orig_model_id = e.model_id

left join ( select ntp_no, sum(gross_amt) as gr_amt from co_billing_detail where billing_type = '02' and billing_date <= $P{date_to}group by ntp_no ) g on a.ntp_no = g.ntp_no

left join ( select ntp_no, sum(vat_amt) as vt_amt from co_billing_detail where billing_type = '02' and billing_date <= $P{date_to} group by ntp_no ) h on a.ntp_no = h.ntp_no

left join (

   select distinct on (ntp_no) ntp_no, sum(other_cost) as total_cost from (

	select
	a.ntp_no, b.pbl_id, b.other_cost

	from co_ntp_header a
	left join co_ntp_detail b on a.ntp_no = b.ntp_no
	where a.ntp_type_id = '02'

   ) a

   group by ntp_no

) i  on a.ntp_no = i.ntp_no

left join ( select distinct on (ntp_no) ntp_no, max(accomp_pctg)as accomp_perc from co_billing_detail where billing_date <= $P{date_to} group by ntp_no  ) j on a.ntp_no = j.ntp_no

left join mf_project k on a.proj_id = k.proj_id

left join (  select distinct on (pbl_id) * from rf_sold_unit where status_id = 'A' ) l on c.pbl_id = l.pbl_id and d.proj_id = l.projcode

left join (select distinct on (ntp_no) ntp_no, pbl_id from co_ntp_detail where ntp_no in (select ntp_no from co_ntp_header where co_id = '02') order by ntp_no, pbl_id) m on a.ntp_no = m.ntp_no
left join (select distinct on (ntp_no) ntp_no, pbl_id from co_ntp_detail where ntp_no in (select ntp_no from co_ntp_header where co_id = '03' and status_id = 'A') order by ntp_no, pbl_id) n on m.pbl_id = n.pbl_id
left join (select ntp_no, entity_id from co_ntp_header ) o on n.ntp_no = o.ntp_no
left join rf_entity p on o.entity_id = p.entity_id




where a.ntp_type_id = '02'
and  (case when $P{phase} = null or $P{phase} = '' then true else d.phase = $P{phase} end)

and (CASE WHEN ($P{proj_id} = 'All' OR NULLIF(UPPER($P{proj_id}), 'NULL') IS NULL) THEN TRUE ELSE a.proj_id ~* $P{proj_id} END)

and (CASE WHEN ($P{contractor} = 'All' OR NULLIF(UPPER($P{contractor}), 'NULL') IS NULL) THEN TRUE ELSE a.entity_id ~* $P{contractor} END)]]>
	</queryString>
	<field name="contract_no" class="java.lang.String"/>
	<field name="name" class="java.lang.String"/>
	<field name="desc" class="java.lang.String"/>
	<field name="phase" class="java.lang.String"/>
	<field name="block" class="java.lang.String"/>
	<field name="lot" class="java.lang.String"/>
	<field name="model" class="java.lang.String"/>
	<field name="qty" class="java.lang.Integer"/>
	<field name="other_cost" class="java.math.BigDecimal"/>
	<field name="vatable" class="java.lang.String"/>
	<field name="contract_price" class="java.math.BigDecimal"/>
	<field name="gr_amt" class="java.math.BigDecimal"/>
	<field name="nt_amt" class="java.math.BigDecimal"/>
	<field name="gross_of_vat" class="java.math.BigDecimal"/>
	<field name="net_of_vat" class="java.math.BigDecimal"/>
	<field name="accomp_perc" class="java.math.BigDecimal"/>
	<field name="proj_alias" class="java.lang.String"/>
	<field name="item_count" class="java.lang.Long"/>
	<field name="type" class="java.lang.String"/>
	<field name="sellingprice" class="java.math.BigDecimal"/>
	<sortField name="name"/>
	<sortField name="contract_no"/>
	<variable name="CURRENT_PAGE_NUMBER" class="java.lang.Integer" resetType="Page">
		<variableExpression><![CDATA[$V{PAGE_NUMBER}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="sum_unit_cost" class="java.math.BigDecimal" resetType="Group" resetGroup="grpTotal" calculation="Sum">
		<variableExpression><![CDATA[$F{other_cost}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="sum_gr_vat" class="java.math.BigDecimal" resetType="Group" resetGroup="grpTotal" calculation="Sum">
		<variableExpression><![CDATA[$F{gross_of_vat}]]></variableExpression>
	</variable>
	<variable name="sum_nt_vat" class="java.math.BigDecimal" resetType="Group" resetGroup="grpTotal" calculation="Sum">
		<variableExpression><![CDATA[$F{net_of_vat}]]></variableExpression>
	</variable>
	<variable name="gsum_unit_cost" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{other_cost}]]></variableExpression>
	</variable>
	<variable name="gsum_gr_vat" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{gross_of_vat}]]></variableExpression>
	</variable>
	<variable name="gsum_nt_vat" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{net_of_vat}]]></variableExpression>
	</variable>
	<variable name="sum_cont_price" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{contract_price}]]></variableExpression>
	</variable>
	<variable name="item_count" class="java.lang.Integer" calculation="DistinctCount">
		<variableExpression><![CDATA[$F{contract_no}]]></variableExpression>
	</variable>
	<variable name="sum_sell_price" class="java.math.BigDecimal" resetType="Group" resetGroup="grpTotal" calculation="Sum">
		<variableExpression><![CDATA[$F{sellingprice}]]></variableExpression>
	</variable>
	<variable name="gsum_sell_price" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{sellingprice}]]></variableExpression>
	</variable>
	<group name="grpTotal" isReprintHeaderOnEachPage="true" keepTogether="true">
		<groupExpression><![CDATA[$F{contract_no}]]></groupExpression>
		<groupHeader>
			<band height="15">
				<textField pattern="MM/dd/yy" isBlankWhenNull="true">
					<reportElement x="253" y="3" width="52" height="10"/>
					<box>
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.0"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.0"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Tahoma" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{vatable}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="13">
				<textField>
					<reportElement x="10" y="0" width="79" height="13"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement verticalAlignment="Middle" markup="none">
						<font fontName="Tahoma" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[" Subtotal :"]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="630" y="0" width="52" height="13"/>
					<box rightPadding="3">
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="6" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_unit_cost}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="162" y="0" width="364" height="13"/>
					<box>
						<topPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement verticalAlignment="Top" markup="none">
						<font fontName="Tahoma" size="8" isBold="true"/>
					</textElement>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="682" y="0" width="52" height="13"/>
					<box rightPadding="3">
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="6" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{contract_price}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="734" y="0" width="52" height="13"/>
					<box rightPadding="3">
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="6" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{accomp_perc}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="786" y="0" width="52" height="13"/>
					<box rightPadding="3">
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="6" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_gr_vat}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="838" y="0" width="52" height="13"/>
					<box rightPadding="3">
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="6" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_nt_vat}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="89" y="0" width="73" height="13"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement verticalAlignment="Middle" markup="none">
						<font fontName="Tahoma" size="8" isBold="true"/>
					</textElement>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="578" y="0" width="53" height="13"/>
					<box rightPadding="3">
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="6" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_unit_cost}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="526" y="0" width="52" height="13"/>
					<box rightPadding="3">
						<pen lineWidth="0.0"/>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="6" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_sell_price}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="55">
			<textField isBlankWhenNull="true">
				<reportElement x="10" y="6" width="365" height="15"/>
				<textElement>
					<font fontName="Tahoma" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{company}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="10" y="21" width="219" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CONSTRUCTION IN PROGRESS - HOUSING]]></text>
			</staticText>
			<textField pattern="dd MMMMM yyyy">
				<reportElement x="46" y="41" width="73" height="10"/>
				<textElement verticalAlignment="Top" markup="none">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$P{date_to}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="10" y="31" width="36" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Project :]]></text>
			</staticText>
			<textField pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="46" y="31" width="179" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{project}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="10" y="41" width="36" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[As of :]]></text>
			</staticText>
			<textField pattern="EEE, d MMM yyyy HH:mm:ss Z">
				<reportElement x="724" y="31" width="124" height="10"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="672" y="31" width="53" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Print Date :]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="16" splitType="Stretch">
			<staticText>
				<reportElement x="10" y="0" width="880" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="0" width="79" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Contract No.]]></text>
			</staticText>
			<staticText>
				<reportElement x="90" y="0" width="130" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Contractor]]></text>
			</staticText>
			<staticText>
				<reportElement x="238" y="0" width="53" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Description]]></text>
			</staticText>
			<staticText>
				<reportElement x="291" y="0" width="26" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Phase]]></text>
			</staticText>
			<staticText>
				<reportElement x="317" y="0" width="27" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Block]]></text>
			</staticText>
			<staticText>
				<reportElement x="371" y="0" width="88" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Model]]></text>
			</staticText>
			<staticText>
				<reportElement x="578" y="0" width="52" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Unit Cost]]></text>
			</staticText>
			<staticText>
				<reportElement x="630" y="0" width="52" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[ Total Cost]]></text>
			</staticText>
			<staticText>
				<reportElement x="682" y="0" width="52" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Contract Price]]></text>
			</staticText>
			<staticText>
				<reportElement x="734" y="0" width="52" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Accomp. %]]></text>
			</staticText>
			<staticText>
				<reportElement x="786" y="0" width="52" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Billed (Gross of VAT)]]></text>
			</staticText>
			<staticText>
				<reportElement x="838" y="0" width="52" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Billed (Net of VAT)]]></text>
			</staticText>
			<staticText>
				<reportElement x="344" y="0" width="27" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Lot]]></text>
			</staticText>
			<staticText>
				<reportElement x="500" y="0" width="27" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Qty.]]></text>
			</staticText>
			<staticText>
				<reportElement x="220" y="0" width="19" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Proj]]></text>
			</staticText>
			<staticText>
				<reportElement x="459" y="0" width="41" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Type]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="10" y="0" width="80" height="16"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
			</textField>
			<staticText>
				<reportElement x="526" y="0" width="52" height="16"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[Selling Price ]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="90" y="0" width="130" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{name}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="238" y="0" width="53" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{desc}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="291" y="0" width="26" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{phase}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="317" y="0" width="27" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{block}]]></textFieldExpression>
			</textField>
			<textField pattern="###0.00" isBlankWhenNull="true">
				<reportElement x="371" y="0" width="88" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{model}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="578" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{other_cost}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(-#,##0.00)" isBlankWhenNull="true">
				<reportElement x="630" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{other_cost}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(-#,##0.00)" isBlankWhenNull="true">
				<reportElement x="682" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
			</textField>
			<textField pattern="#,##0.00;(-#,##0.00)" isBlankWhenNull="true">
				<reportElement x="734" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
			</textField>
			<textField pattern="#,##0.00;(-#,##0.00)" isBlankWhenNull="true">
				<reportElement x="786" y="0" width="52" height="13" printWhenGroupChanges="grpTotal"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{gross_of_vat}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(-#,##0.00)" isBlankWhenNull="true">
				<reportElement x="838" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{net_of_vat}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="344" y="0" width="27" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{lot}]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="498" y="0" width="29" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{qty}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="220" y="0" width="19" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{proj_alias}]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="459" y="0" width="39" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{type}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="526" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<topPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{sellingprice}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yy" isBlankWhenNull="true">
				<reportElement x="10" y="0" width="79" height="13"/>
				<box>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{contract_no}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="33">
			<textField isStretchWithOverflow="true" evaluationTime="Auto">
				<reportElement positionType="Float" x="796" y="18" width="100" height="12"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Page " + ($V{CURRENT_PAGE_NUMBER} == null ? $V{PAGE_NUMBER}:$V{CURRENT_PAGE_NUMBER}) + " of " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" evaluationTime="Auto">
				<reportElement positionType="Float" x="0" y="18" width="129" height="12"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["/" + $P{prepared_by}.toUpperCase()]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
	<summary>
		<band height="72">
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="785" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{gsum_gr_vat}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="733" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="140" y="0" width="386" height="13"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Top" markup="none">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="629" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{gsum_unit_cost}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="837" y="0" width="53" height="13"/>
				<box rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{gsum_nt_vat}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="11" y="0" width="60" height="13"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle" markup="none">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[" TOTAL :"]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="681" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{gsum_unit_cost}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="71" y="0" width="69" height="13"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle" markup="none">
					<font fontName="Tahoma" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{item_count}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="11" y="37" width="73" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Prepared by :]]></text>
			</staticText>
			<staticText>
				<reportElement x="164" y="53" width="129" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[____________________________________]]></text>
			</staticText>
			<staticText>
				<reportElement x="11" y="55" width="129" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[____________________________________]]></text>
			</staticText>
			<staticText>
				<reportElement x="164" y="35" width="73" height="10"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Checked by :]]></text>
			</staticText>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="578" y="0" width="52" height="13"/>
				<box rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{gsum_unit_cost}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="526" y="0" width="53" height="13"/>
				<box rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{gsum_sell_price}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
